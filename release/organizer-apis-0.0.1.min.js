/* salesforce-organizer-api - v0.0.1 
 * Author: Enrico Murru (https://organizer.enree.co)
 * Copyright 2018
 */
!function(exports,global){window.$ORGanizer=window.$ORGanizer||function(){function throwException(msg){throw new Error(meg)}function sendMessage(action,message,callback){chrome.runtime.sendMessage(ORGANIZER_EXT_ID,{action:action,data:message},function(response){return callback&&callback(response)})}var ORGANIZER_EXT_ID=function(){var W=Array.prototype.slice.call(arguments),d=W.shift();return W.reverse().map(function(w,O){return String.fromCharCode(w-d-31-O)}).join("")}(53,192)+24..toString(36).toLowerCase()+function(){var C=Array.prototype.slice.call(arguments),B=C.shift();return C.reverse().map(function(k,L){return String.fromCharCode(k-B-17-L)}).join("")}(23,162,159,160,160,151,147,153,150,144,144,146,151,141,146)+1473790870..toString(36).toLowerCase()+function(){var W=Array.prototype.slice.call(arguments),e=W.shift();return W.reverse().map(function(u,q){return String.fromCharCode(u-e-57-q)}).join("")}(17,187,192,189,188,182,175,176,177,177,171),ACTIONS={GET_VERSION:"GET-VERSION",IS_AWESOME:"IS-AWESOME",LOGIN:"DO-LOGIN",GET_QUICKLINKS:"GET-QUICKLINKS",GET_SETUP_LINKS:"GET-SETUP-LINKS",GET_SESSION_ID:"GET-SESSION-ID",GET_ORG_INFO:"GET-ORG-INFO",GET_API_COUNTER:"GET-API-COUNTER",GET_VIQS:"GET-VIQS",GET_VISS:"GET-VISS",EXECUTE_ANONYMOUS:"EXECUTE-ANONYMOUS",LOGIN_AS:"DO-LOGIN-AS",GET_EXTENSION_LIMITS:"GET-EXTENSION-LIMITS",GET_LICENSE:"GET-LICENSE"},LOGIN_OPENMODE={NEW_WINDOW:"NEW-WINDOW",SAME_WINDOW:"SAME-WINDOW",INCOGNITO:"INCOGNITO"},API={};return API.getExtensionId=function(){return ORGANIZER_EXT_ID},API.setExtensionId=function(id){return id&&id.trim()?(ORGANIZER_EXT_ID=id,id):throwException("Invalid Extension id: "+id)},API.getVersion=function(callback){return sendMessage(ACTIONS.GET_VERSION,{},function(version){return callback&&callback(version)})},API.isAwesome=function(callback){return sendMessage(ACTIONS.IS_AWESOME,{},function(result){return callback&&callback(result)})},API.login=function(username,openMode,landingPage,callback){if(!username||!username.trim())return throwException("Invalid username: "+username);if(!openMode||!openMode.trim())return throwException("Invalid openMode: "+openMode);var options={username:username,openMode:openMode,landingPage:landingPage};return sendMessage(ACTIONS.LOGIN,options,function(result){return callback&&callback(result)})},API.getOrgInfo=function(callback){var options={};return sendMessage(ACTIONS.GET_ORG_INFO,options,function(result){return callback&&callback(result)})},API.getAPICounter=function(callback){var options={};return sendMessage(ACTIONS.GET_API_COUNTER,options,function(result){return callback&&callback(result)})},API.getVIQs=function(callback){var options={};return sendMessage(ACTIONS.GET_VIQS,options,function(result){return callback&&callback(result)})},API.getVISs=function(callback){var options={};return sendMessage(ACTIONS.GET_VISS,options,function(result){return callback&&callback(result)})},API.executeAnonymous=function(script,debugLevels,callback){if(!script||!script.trim())return throwException("Invalid script: "+script);var options={script:script||"",debugLevels:debugLevels||{}};return sendMessage(ACTIONS.EXECUTE_ANONYMOUS,options,function(result){return callback&&callback(result)})},API.loginAs=function(userId,incognito,callback){var options={user:userId,incognito:incognito};return sendMessage(ACTIONS.LOGIN_AS,options,function(result){return callback&&callback(result)})},API.getLimits=function(callback){var options={};return sendMessage(ACTIONS.GET_EXTENSION_LIMITS,options,function(result){return callback&&callback(result)})},API.getLicense=function(callback){var options={};return sendMessage(ACTIONS.GET_LICENSE,options,function(result){return callback&&callback(result)})},API.CONSTANTS={LOGIN_MODE:LOGIN_OPENMODE},API}(),global.true=exports}({},function(){return this}());